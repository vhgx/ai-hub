# Generated by Django 4.2.27 on 2025-12-28 04:23

from django.db import migrations


class Migration(migrations.Migration):

    dependencies = [
        ('predictions', '0002_prediction_amount_prediction_category'),
    ]

    def populate_data(apps, schema_editor):
        Prediction = apps.get_model('predictions', 'Prediction')
        import json
        
        for prediction in Prediction.objects.all():
            try:
                data = json.loads(prediction.output_data)
                prediction.amount = data.get('amount')
                prediction.category = data.get('category')
                prediction.save()
            except (json.JSONDecodeError, AttributeError):
                continue

    operations = [
        migrations.RunPython(populate_data),
    ]
